<style>
    .collect-in-border {
        border: 8px solid #f57c00;
        margin-top: 0px !important;
        margin-bottom: 0px !important;
        box-shadow: inset 0 1px 1px rgb(250, 250, 250), 0 0 8px rgb(250, 250, 250)
    }

    .table-s-border {
        border: 8px solid #2196f3;
        margin-top: 0px !important;
        margin-bottom: 0px !important;
        box-shadow: inset 0 1px 1px rgb(250, 250, 250), 0 0 8px rgb(250, 250, 250)
    }


    .table-s-text {
        color: #2196f3 !important
    }

    .collect-in-text {
        color: #f57c00 !important
    }

    .popover-title {
        color: #000 !important
    }

    #page-wrapper {
        padding: 0 0
    }

    .btn {
        border-radius: 21px
    }

    .card {
        margin: 0rem 0 0rem 0
    }

    @media(min-width:768px) {
        .drinksCard {
            padding: 20px
        }
    }

    @media(min-width:992px) {
        .drinksCard {
            padding: 20px
        }
    }

    @media(min-width:1200px) {
        .drinksCard {
            padding: 20px
        }
    }

    .header-style {
        text-align: center;
        visibility: visible;
        padding-right: 0;
        padding-left: 0;
        background-color: #f9a141 !important;
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 1px 5px 0 rgba(0, 0, 0, .12), 0 3px 1px -2px rgba(0, 0, 0, .2);
        border-left: 1px solid #e8e8e8 !important;
        color: #fff
    }

    .ui-timepicker-wrapper {
        width: 10.5em !important;
    }

    #O_F_L_1 {
        padding-right: 30px;
        padding-left: 30px;
    }

    .searchBtn {
        margin-top: 1.7rem;
    }

    .chosen-container-single .chosen-single {
        line-height: 31px !important;
    }

    .green-dot {
        height: 8px !important;
        width: 8px !important;
        background-color: #8bc34a !important;
        border-radius: 50%;
        display: inline-block;
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 1px 5px 0 rgba(0, 0, 0, .12), 0 3px 1px -2px rgba(0, 0, 0, .2)
    }

    .amber-dot {
        height: 8px !important;
        width: 8px !important;
        background-color: #ffa000 !important;
        border-radius: 50%;
        display: inline-block;
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 1px 5px 0 rgba(0, 0, 0, .12), 0 3px 1px -2px rgba(0, 0, 0, .2)
    }

    .rejected-dot {
        height: 8px !important;
        width: 8px !important;
        background-color: #f43506 !important;
        border-radius: 50%;
        display: inline-block;
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 1px 5px 0 rgba(0, 0, 0, .12), 0 3px 1px -2px rgba(0, 0, 0, .2)
    }

    .red-dot {
        height: 8px !important;
        width: 8px !important;
        background-color: #d32f2f !important;
        border-radius: 50%;
        display: inline-block;
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 1px 5px 0 rgba(0, 0, 0, .12), 0 3px 1px -2px rgba(0, 0, 0, .2)
    }

    .awaiting-dot {
        height: 8px !important;
        width: 8px !important;
        background-color: #3f51b5 !important;
        border-radius: 50%;
        display: inline-block;
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 1px 5px 0 rgba(0, 0, 0, .12), 0 3px 1px -2px rgba(0, 0, 0, .2);
    }

    .collect-bar {
        border-radius: 4px;
        font-size: 11px;
        padding: 2px 4px;
        background-color: #f57c00;
        color: #fff;
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 1px 5px 0 rgba(0, 0, 0, .12), 0 3px 1px -2px rgba(0, 0, 0, .2)
    }

    .table-serve {
        border-radius: 4px;
        font-size: 11px;
        padding: 2px 8px;
        background-color: #2196f3;
        color: #fff;
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 1px 5px 0 rgba(0, 0, 0, .12), 0 3px 1px -2px rgba(0, 0, 0, .2)
    }

    #_B_0_O_L {
        background-color: #000;
        width: auto;
        height: 100%;
        color: #fff;
    }

    .O_C_B {
        font-size: 11px
    }

    .checkmark {
        display: inline-block;
        width: 22px;
        height: 22px;
        -ms-transform: rotate(45deg);
        -webkit-transform: rotate(45deg);
        transform: rotate(45deg)
    }

    .checkmark_circle_no_check {
        position: absolute;
        width: 20px;
        height: 20px;
        background-color: #6d6666;
        border-radius: 11px;
        left: 0;
        top: 0
    }

    .checkmark_circle_accepted {
        position: absolute;
        width: 20px;
        height: 20px;
        background-color: #f50000;
        border-radius: 11px;
        left: 0;
        top: 0
    }

    .checkmark_circle_reparation {
        position: absolute;
        width: 20px;
        height: 20px;
        background-color: #fba919;
        border-radius: 11px;
        left: 0;
        top: 0
    }

    .checkmark_circle_serve {
        position: absolute;
        width: 20px;
        height: 20px;
        background-color: #2ab31a;
        border-radius: 11px;
        left: 0;
        top: 0
    }

    .checkmark_stem {
        position: absolute;
        width: 3px;
        height: 10px;
        background-color: #fff;
        left: 10px;
        top: 4px
    }

    .checkmark_kick {
        position: absolute;
        width: 3px;
        height: 3px;
        background-color: #fff;
        left: 7px;
        top: 11px
    }

    .hr_status {
        border: 1px solid #99999994;
        position: absolute;
        width: 90vh;
        margin-top: 24px
    }

    .T_N_CNT_0 {
        padding: 3px 5px 5px 6px;
        background-color: #fff;
        box-shadow: inset 0 1px 1px rgb(250, 250, 250), 0 0 8px rgb(250, 250, 250);
        border-radius: 50px;
        color: #000;
        width: 18px;
        height: 18px;
        display: inline-block;
        font-size: 10px;
        top: 10px
    }

    .checkmark_circle_awaiting {
        position: absolute;
        width: 20px;
        height: 20px;
        background-color: rgb(63, 81, 181);
        border-radius: 11px;
        left: 0;
        top: 0;
    }

    .table-overflow {
        font-size: 12px;
        max-height: 280px;
        height: 280px;
    }

    @media(min-width:768px) {
        #BAR_O_D_L {
            padding-left: 0px !important;
        }
    }

    .total-price-dis {
        margin-right: 1.8rem;
    }

    .is-open {
        background-color: #80808038;
    }
</style>
<script>
    Number.prototype.pad = function (size) {
        var s = String(this);
        while (s.length < (size || 2)) { s = "0" + s; }
        return s;
    }
</script>
<link href="/assets/datepicker.min.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="/assets/bootstrap-datepicker.min.js"></script>
<script type="text/javascript" src="/js/js/typeahead.min.js"></script>
<link href="/assets/css/typeahead.min.css" rel="stylesheet" />
<script type="text/javascript">
    $(function () { $('#O_D_F').datepicker({ format: "dd-mm-yyyy", todayHighlight: !0, autoclose: !0 }); $('#O_D_F').val((('0' + ((new Date()).getDate())).slice(-2) + '-' + ('0' + ((new Date()).getMonth() + 1)).slice(-2) + '-' + (new Date()).getFullYear())) }); $(document).ready(function () { var timeing = ["12:00 AM", "1:00 AM", "2:00 AM", "3:00 AM", "4:00 AM", "5:00 AM", "6:00 AM", "7:00 AM", "8:00 AM", "9:00 AM", "10:00 AM", "11:00 AM", "12:00 PM", "1:00 PM", "2:00 PM", "3:00 PM", "4:00 PM", "5:00 PM", "6:00 PM", "7:00 PM", "8:00 PM", "9:00 PM", "10:00 PM", "11:00 PM"]; var timeing_suggestion = new Bloodhound({ datumTokenizer: Bloodhound.tokenizers.whitespace, queryTokenizer: Bloodhound.tokenizers.whitespace, local: timeing }); $('#O_T_F_TIME').typeahead({ minLength: 1 }, { source: timeing_suggestion }); let time_format = (moment().utcOffset(330).format(`LT`)).split(':'); if (time_format && time_format.length > 0) { $("#O_T_F_TIME").val(`${time_format[0]}:00 ${time_format[1].split(' ')[1]}`) } })
</script>
<link rel="stylesheet" type="text/css" href="assets/css/dashboard.css" />
<style>
    .nav-tabs>li>a {
        padding: 4px 1px 9px 0px !important;
    }
</style>
<link rel="stylesheet" type="text/css" href="assets/css/single-img.css" />
<link href="/assets/css/jquery.timepicker.min.css" type="text/css" rel="stylesheet" />
<script src="/assets/js/jquery.timepicker.min.js"></script>
<div class="wrapper wrapper-content" id="drinksorder" ng-controller="drinksOrderCtl">
    <div class="m-t-sm" style="margin-top:2.5rem;" ng-show="isBusinessSelect">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-xl-12 col-lg-12">
                <div class="row card drinksCard" style="margin: 0rem 0 0.7rem 0;">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-xl-12 col-lg-12">
                        <link rel="stylesheet" type="text/css" href="assets/businessAC/css/autocomplete.css" />
                        <div class="autocomplete col-sm-12 col-xs-8 col-md-6 col-lg-6 col-xl-6"
                            style="padding-right:0px;padding-left:0px;">
                            <input id="autocompleteBusiness" type="text" name="BusinessName"
                                placeholder="Enter Business name">
                            <span id="businessErr" style="color:red;"></span>
                        </div>
                        <script type="text/javascript" src="assets/businessAC/js/autocomplete.js"></script>
                        <script
                            type="text/javascript">autocomplete(document.getElementById("autocompleteBusiness"), 'manageEvent');</script>
                        <div class="autocomplete col-sm-12 col-xs-4 col-md-6 col-lg-6 col-xl-6">
                            <button type="button" ng-click="BusinessSelected('manageEvent')" id="businessSubmit"
                                class="btn btn-raised btn-primary businessSubmit">
                                <i class="fa fa-check" aria-hidden="true"></i>&nbsp;&nbsp;Submit</button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12" id="O_F_L_1">
                        <div class="row">
                            <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12 card"
                                style="padding:10px 10px 0px 10px;margin: 0rem 0 0.5rem 0;background-color: #e5e5e5;">
                                <h2 style="font-weight: 400;margin-top: 0px;margin-bottom: 5px;">Filter</h2>
                                <div class="row">
                                    <div class="col-lg-2 col-xl-2 col-md-2 col-sm-6 col-xs-6">
                                        <div class="form-group">
                                            <label for="O_T_F">Service</label>
                                            <select chosen="drinksServiceOption" id="drinksServiceOption"
                                                class="form-control"
                                                ng-options="types.type for types in drinksServiceOption"
                                                ng-model="drinksServiceOption"></select>
                                        </div>
                                    </div>
                                    <div class="col-lg-2 col-xl-2 col-md-2 col-sm-6 col-xs-6">
                                        <div class="form-group">
                                            <label for="O_D_F">Date</label>
                                            <input type="text" class="form-control" placeholder="dd/mm/yyyy" id="O_D_F">
                                        </div>
                                    </div>
                                    <div class="col-lg-2 col-xl-2 col-md-2 col-sm-6 col-xs-6">
                                        <div class="form-group">
                                            <label for="O_OI_F">Order ID</label>
                                            <input type="text" class="form-control" placeholder="BD00000001"
                                                id="O_OI_F">
                                        </div>
                                    </div>
                                    <div class="col-lg-2 col-xl-2 col-md-2 col-sm-6 col-xs-6">
                                        <div class="form-group">
                                            <label for="O_CU_F">Customer</label>
                                            <input type="text" class="form-control" placeholder="Name or Contact"
                                                id="O_CU_F">
                                        </div>
                                    </div>
                                    <div class="col-lg-2 col-xl-2 col-md-2 col-sm-6 col-xs-6">
                                        <div class="form-group">
                                            <label for="O_S_F">Status</label>
                                            <select class="form-control" id="O_S_F">
                                                <option value="select">Select</option>
                                                <option value="waiting">Awaiting accepts</option>
                                                <option value="accepted">Order accepted</option>
                                                <option value="preparation">In preparations</option>
                                                <option value="readytoserve">Ready to serve</option>
                                                <option value="rejected">Rejected</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-lg-2 col-xl-2 col-md-2 col-sm-6 col-xs-6">
                                        <button type="button" class="btn btn-primary searchBtn"
                                            ng-click="searchClk()"><i class="fas fa-search"></i> Search</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" ng-show="drinksOrdersList && drinksOrdersList.length">
                            <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 card">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Service</th>
                                                <th>Date</th>
                                                <th>Time</th>
                                                <th>Order ID</th>
                                                <th>Name</th>
                                                <th>Contact</th>
                                                <th>Price</th>
                                                <th class="center">Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr id="table-tr-{{list.id}}" ng-repeat="list in drinksOrdersList"
                                                class="{{list.isOpen ?'is-open': ''}}"
                                                ng-click="listClk(list.id,list.drinksOrderType._type)">
                                                <script>
                                                    $(document).ready(() => { $('[data-toggle="tooltip"]').tooltip(); });
                                                </script>
                                                <td>
                                                    <span data-toggle="tooltip" data-placement="top"
                                                        title="{{ list.deliveryType }}"
                                                        class="{{list.deliveryType=='Table Service'?'table-serve': 'collect-bar'}}">{{list.deliveryType}}</span>
                                                </td>
                                                <td>{{list.orderDate}}</td>
                                                <td>{{list.orderTime}}</td>
                                                <td>{{list.orderId}}</td>
                                                <td>{{list.customer.firstName}} &nbsp;
                                                    {{ list.customer.lastName }}</td>
                                                <td>{{list.customer.mobile}} </td>
                                                <td> ${{list.totalAmt | number : 2}} </td>
                                                <td class="center">
                                                    <span data-toggle="tooltip" data-placement="top"
                                                        title="{{ (list.status =='readytoserve' ? 'Ready to serve' : list.status ) | capitalize }}"
                                                        class="{{ list.status=='readytoserve' ? 'green-dot' : (list.status=='preparation' ? 'amber-dot' : (list.status=='awaiting' ? 'awaiting-dot' : 
                                                         (list.status=='accepted' ? 'red-dot' : (list.status=='rejected' ? 'rejected-dot' : '')) ) ) }} "></span>

                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal left fade" id="foodOrderViewModal" tabindex="-1" role="dialog"
                        aria-labelledby="myModalLabel" style="top: 0px!important;">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header"
                                    style="background-color: #f57c00 !important;box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);">
                                    <button type="button" class="close"
                                        style="font-size: 28px !important;color:#fff !important;" data-dismiss="modal"
                                        aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                    <h4 class="modal-title" id="myModalLabel">
                                        <span style="font-size:20px;">
                                            <p id="O_S_B_E_4" style="color: #fff !important;padding:2px 2px 2px 10px;">
                                            </p>
                                        </span>
                                    </h4>
                                </div>
                                <div class="modal-body"
                                    style="text-align: inherit !important;background-color:#000 !important;">
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">
                                            <div class="row" id="_B_0_O_L">
                                                <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12"
                                                    style="margin-top: 9px;">
                                                    <div class="row">
                                                        <div class="col-md-6 col-sm-6 col-xs-6 col-lg-6">
                                                            <b class="O_C_B">{{order_product.orderDate}}</b>
                                                        </div>
                                                        <div class="col-md-6 col-sm-6 col-xs-6 col-lg-6"
                                                            style="text-align: right;margin-top:10px;padding-left: 0px;">
                                                            <p>{{order_product.customer.firstName}}
                                                                {{order_product.customer.lastName}}</p>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6 col-sm-6 col-xs-6 col-lg-6"
                                                            style="margin-top: 10px;padding-right: 0px;">
                                                            <p class="O_C_O_ID">Order ID :
                                                                {{order_product.orderId}}</p>
                                                            <p id="O_S_B_E_4"></p>
                                                            <div class="row">
                                                                <div class="col-md-6 col-sm-6 col-xs-6 col-lg-6">
                                                                    <div class="form-group"
                                                                        ng-show="order_product.deliveryType=='Table Service'">
                                                                        <input type="text"
                                                                            ng-model="order_product.tableNo"
                                                                            ng-show="order_product.status=='awaiting'"
                                                                            id="tableNoDrinks" class="form-control"
                                                                            data-toggle="tooltip" data-placement="top"
                                                                            title="Table No."
                                                                            style="background-color: #fff !important;padding: 2px 4px;height: 30px;"
                                                                            placeholder="Table no.">
                                                                        <p class="O_C_O_ID"
                                                                            ng-show="order_product.status!='awaiting'">
                                                                            Table No.&nbsp;:&nbsp;
                                                                            {{order_product.tableNo}}</p>
                                                                    </div>
                                                                    <div
                                                                        ng-show="order_product.deliveryType=='Collect @ Bar'">
                                                                        <b
                                                                            style="color: #0ae10a !important;">{{order_product.deliveryType}}</b>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6 col-sm-6 col-xs-6 col-lg-6"
                                                            style="text-align: right;margin-top:10px;padding-left: 0px;">

                                                            <p>{{order_product.customer.mobile}}</p>

                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <hr class="hr_status">
                                                        <div class="col-md-12"
                                                            style="padding-right: 0px; padding-left: 0px;margin-top:15px;margin-bottom: 15px;">
                                                            <div class="row">
                                                                <div class="col-md-3 col-sm-3 col-xs-3 col-lg-3 center">
                                                                    <span class="checkmark"
                                                                        ng-if="order_product.status!='rejected'">
                                                                        <div class="checkmark_circle_no_check"
                                                                            ng-if="order_product.status!='awaiting' && order_product.status!='accepted' && order_product.status=='preparation' && order_product.status!='readytoserve'">
                                                                        </div>
                                                                        <div class="checkmark_circle_awaiting"
                                                                            ng-if="order_product.status=='awaiting' || order_product.status=='accepted' || order_product.status=='preparation' || order_product.status=='readytoserve'">
                                                                        </div>
                                                                        <div class="checkmark_stem"
                                                                            ng-if="order_product.status=='awaiting' || order_product.status=='accepted' || order_product.status=='preparation' || order_product.status=='readytoserve'">
                                                                        </div>
                                                                        <div class="checkmark_kick"
                                                                            ng-if="order_product.status=='awaiting' || order_product.status=='accepted' || order_product.status=='preparation' || order_product.status=='readytoserve'">
                                                                        </div>
                                                                    </span>
                                                                    <span class="checkmark"
                                                                        ng-if="order_product.status=='rejected'">
                                                                        <div class="checkmark_circle_no_check">
                                                                        </div>
                                                                    </span>
                                                                    <p style="font-size: 8px;color: #999;">
                                                                        Awaiting
                                                                        acceptance</p>
                                                                    <p style="font-size: 8px;">
                                                                        {{order_product.awaiting.time}}</p>
                                                                </div>
                                                                <div class="col-md-3 col-sm-3 col-xs-3 col-lg-3 center">
                                                                    <span class="checkmark"
                                                                        ng-if="order_product.status!='rejected'">
                                                                        <div class="checkmark_circle_no_check"
                                                                            ng-if="order_product.status!='preparation' && order_product.status!='readytoserve' && order_product.status=='awaiting'">
                                                                        </div>
                                                                        <div class="checkmark_circle_accepted"
                                                                            ng-if="order_product.status=='accepted' || order_product.status=='preparation' || order_product.status=='readytoserve'">
                                                                        </div>
                                                                        <div class="checkmark_stem"
                                                                            ng-if="order_product.status=='accepted' || order_product.status=='preparation' || order_product.status=='readytoserve'">
                                                                        </div>
                                                                        <div class="checkmark_kick"
                                                                            ng-if="order_product.status=='accepted' || order_product.status=='preparation' || order_product.status=='readytoserve'">
                                                                        </div>
                                                                    </span>
                                                                    <span class="checkmark"
                                                                        ng-if="order_product.status=='rejected'">
                                                                        <div class="checkmark_circle_no_check">
                                                                        </div>
                                                                    </span>
                                                                    <p style="font-size: 8px;color: #999;">Order
                                                                        accepted
                                                                    </p>
                                                                    <p style="font-size: 8px;">
                                                                        {{order_product.accepted.time}}</p>
                                                                </div>
                                                                <div class="col-md-3 col-sm-3 col-xs-3 col-lg-3 center">
                                                                    <span class="checkmark"
                                                                        ng-if="order_product.status!='rejected'">
                                                                        <div class="checkmark_circle_reparation"
                                                                            ng-if="order_product.status=='preparation' || order_product.status=='readytoserve'">
                                                                        </div>
                                                                        <div class="checkmark_circle_no_check"
                                                                            ng-if="order_product.status!='preparation' && order_product.status!='readytoserve'">
                                                                        </div>
                                                                        <div class="checkmark_stem"
                                                                            ng-if="order_product.status=='preparation' || order_product.status=='readytoserve'">
                                                                        </div>
                                                                        <div class="checkmark_kick"
                                                                            ng-if="order_product.status=='preparation' || order_product.status=='readytoserve'">
                                                                        </div>
                                                                    </span>
                                                                    <span class="checkmark"
                                                                        ng-if="order_product.status=='rejected'">
                                                                        <div class="checkmark_circle_no_check">
                                                                        </div>
                                                                    </span>
                                                                    <p style="font-size: 8px;color: #999;">In
                                                                        preparation
                                                                    </p>
                                                                    <p style="font-size: 8px;">
                                                                        {{order_product.preparation.time}}
                                                                    </p>
                                                                </div>
                                                                <div class="col-md-3 col-sm-3 col-xs-3 col-lg-3 center">
                                                                    <span class="checkmark"
                                                                        ng-if="order_product.status!='rejected'">
                                                                        <div class="checkmark_circle_serve"
                                                                            ng-if="order_product.status=='readytoserve'">
                                                                        </div>
                                                                        <div class="checkmark_circle_no_check"
                                                                            ng-if="order_product.status!='readytoserve'">
                                                                        </div>
                                                                        <div class="checkmark_stem"
                                                                            ng-if="order_product.status=='readytoserve'">
                                                                        </div>
                                                                        <div class="checkmark_kick"
                                                                            ng-if="order_product.status=='readytoserve'">
                                                                        </div>
                                                                    </span>
                                                                    <span class="checkmark"
                                                                        ng-if="order_product.status=='rejected'">
                                                                        <div class="checkmark_circle_no_check">
                                                                        </div>
                                                                    </span>
                                                                    <p style="font-size: 8px;color: #999;">Ready
                                                                        to serve
                                                                    </p>
                                                                    <p style="font-size: 8px;">
                                                                        {{order_product.readytoserve.time}}
                                                                    </p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row" style="margin-top: 2rem; ">
                                                        <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">
                                                            <div
                                                                class="table-responsive {{ order_product.drinksOrderLines.length >=5 ? 'table-overflow' : ''}}">
                                                                <table class="table" id="B_T_P_O_L_0_3">
                                                                    <thead>
                                                                        <tr>
                                                                            <th><span>Qty.</span></th>
                                                                            <th><span>Item</span></th>
                                                                            <th style="text-align: right;">
                                                                                <span>Total Amt.</span>
                                                                            </th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr ng-if="order.isSpecial"
                                                                            ng-repeat="order in order_product.drinksOrderLines">
                                                                            <td>

                                                                                <span
                                                                                    class="T_N_CNT_0">{{order.totalQty}}</span>
                                                                            </td>
                                                                            <td>
                                                                                <div class="row">
                                                                                    <div
                                                                                        class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                                                                        <span
                                                                                            ng-if="(order.drinksSpecialDashLine.type && order.drinksSpecialDashLine.brand) && order.drinksSpecialDashLine.type !=order.drinksSpecialDashLine.brand">
                                                                                            {{order.drinksSpecialDashLine.type
                                                                                            }} |
                                                                                            {{order.drinksSpecialDashLine.brand}}</span>
                                                                                        <span
                                                                                            ng-if="!order.drinksSpecialDashLine.type">{{order.drinksSpecialDashLine.brand}}</span>
                                                                                        <span
                                                                                            ng-if="order.drinksSpecialDashLine.brand==order.drinksSpecialDashLine.type">{{order.drinksSpecialDashLine.brand}}</span>
                                                                                        <span
                                                                                            ng-if="!order.drinksSpecialDashLine.brand">{{order.drinksSpecialDashLine.type}}</span>
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-xs-12 col-sm-12 col-md-12 col-xl-12 col-lg-12">
                                                                                        <span
                                                                                            style="font-size: 10px;color: #f9a141;">{{order.drinksOrderSubLines[0].drinksDashSubLine.dispenseTxt}}</span>
                                                                                        <span
                                                                                            ng-if="order.drinksOrderSubLines[0].drinksDashSubLine.dispenseTxt && numberGlassCount(order)>0">&nbsp;-&nbsp;</span>
                                                                                        <span
                                                                                            style="font-size: 10px;color: #f9a141;"
                                                                                            ng-if="numberGlassCount(order)>0 && numberGlassCount(order)==1">
                                                                                            {{numberGlassCount(order)}}
                                                                                            glass</span>
                                                                                        <span
                                                                                            style="font-size: 10px;color: #f9a141;"
                                                                                            ng-if="numberGlassCount(order)>1">
                                                                                            {{numberGlassCount(order)}}
                                                                                            glasses</span>
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                                                                        <span
                                                                                            ng-if="order.drinksOrderSubLines[0].isDouble"
                                                                                            style="color:#f9a141 ;">
                                                                                            Double
                                                                                        </span>
                                                                                        <span
                                                                                            ng-if="order.drinksOrderSubLines[0].isSingle"
                                                                                            style="color:#f9a141 ;">
                                                                                            Single
                                                                                        </span>
                                                                                    </div>
                                                                                    <div class="col-xs-12 col-sm-12 col-md-121 col-xl-12 col-lg-12"
                                                                                        ng-show="order.notes">
                                                                                        <span
                                                                                            style="color: red;">Notes</span>
                                                                                        <span> &nbsp;:&nbsp;
                                                                                        </span>
                                                                                        <span
                                                                                            style="color: #f9a141;">{{order.notes}}</span>
                                                                                    </div>
                                                                                    <div class="col-xs-12 col-sm-12 col-md-121 col-xl-12 col-lg-12"
                                                                                        ng-show="order.drinksMixers && order.drinksMixers.length">
                                                                                        <span
                                                                                            style="color: red;">Mixers</span>
                                                                                        <span> &nbsp;:&nbsp;
                                                                                        </span>
                                                                                        <span style="color: #f9a141;"
                                                                                            ng-repeat="mixers in order.drinksMixers">{{
                                                                                            mixers.name }}
                                                                                            {{$last ? '' : ',
                                                                                            '}}</span>
                                                                                    </div>
                                                                                    <div class="col-xs-12 col-sm-12 col-md-121 col-xl-12 col-lg-12"
                                                                                        ng-show="order.drinksExtras && order.drinksExtras.length">
                                                                                        <span
                                                                                            style="color: red;">Extras</span>
                                                                                        <span> &nbsp;:&nbsp;
                                                                                        </span>
                                                                                        <span style="color: #f9a141;"
                                                                                            ng-repeat="extras in order.drinksExtras">{{
                                                                                            extras.name }}
                                                                                            {{$last ? '' : ',
                                                                                            '}}</span>
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                                                                        <span
                                                                                            ng-if="order.drinksOrderSubLines[0].isDouble"
                                                                                            style="color:#f9a141 ;">
                                                                                            Double
                                                                                        </span>
                                                                                        <span
                                                                                            ng-if="order.drinksOrderSubLines[0].isSingle"
                                                                                            style="color:#f9a141 ;">
                                                                                            Single
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </td>
                                                                            <td style="text-align: right;">
                                                                                ${{order.totalPrice | number :
                                                                                2}}</td>
                                                                        </tr>
                                                                        <tr ng-if="!order.isSpecial"
                                                                            ng-repeat="order in order_product.drinksOrderLines">
                                                                            <td>
                                                                                <span
                                                                                    class="T_N_CNT_0">{{order.totalQty}}

                                                                                </span>
                                                                            </td>
                                                                            <td>
                                                                                <div class="row">
                                                                                    <div
                                                                                        class="col-xs-12 col-sm-12 col-md-12 col-xl-12 col-lg-12">
                                                                                        <span
                                                                                            ng-if="(order.drinksDashLine.type && order.drinksDashLine.brand) && order.drinksDashLine.type !=order.drinksDashLine.brand">
                                                                                            {{order.drinksDashLine.type}}
                                                                                            |
                                                                                            {{order.drinksDashLine.brand}}</span>
                                                                                        <span
                                                                                            ng-if="!order.drinksDashLine.type">{{order.drinksDashLine.brand}}</span>
                                                                                        <span
                                                                                            ng-if="order.drinksDashLine.brand==order.drinksDashLine.type">{{order.drinksDashLine.brand}}</span>
                                                                                        <span
                                                                                            ng-if="!order.drinksDashLine.brand">{{order.drinksDashLine.type}}</span>
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-xs-12 col-sm-12 col-md-12 col-xl-12 col-lg-12">
                                                                                        <span
                                                                                            style="font-size: 10px;color: #f9a141;">{{order.drinksOrderSubLines[0].drinksDashSubLine.dispenseTxt}}</span>
                                                                                        <span
                                                                                            ng-if="order.drinksOrderSubLines[0].drinksDashSubLine.dispenseTxt && numberGlassCount(order)>0">&nbsp;-&nbsp;</span>
                                                                                        <span
                                                                                            style="font-size: 10px;color: #f9a141;"
                                                                                            ng-if="numberGlassCount(order)>0 && numberGlassCount(order)==1">
                                                                                            {{numberGlassCount(order)}}
                                                                                            glass</span>
                                                                                        <span
                                                                                            style="font-size: 10px;color: #f9a141;"
                                                                                            ng-if="numberGlassCount(order)>1">
                                                                                            {{numberGlassCount(order)}}
                                                                                            glasses</span>
                                                                                    </div>
                                                                                    <div
                                                                                        class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                                                                        <span
                                                                                            ng-if="order.drinksOrderSubLines[0].isDouble"
                                                                                            style="color:#f9a141 ;">
                                                                                            Double
                                                                                        </span>
                                                                                        <span
                                                                                            ng-if="order.drinksOrderSubLines[0].isSingle"
                                                                                            style="color:#f9a141 ;">
                                                                                            Single
                                                                                        </span>
                                                                                    </div>
                                                                                    <div class="col-xs-12 col-sm-12 col-md-121 col-xl-12 col-lg-12"
                                                                                        ng-show="order.notes">
                                                                                        <span
                                                                                            style="color: red;">Notes</span>
                                                                                        <span> &nbsp;:&nbsp;
                                                                                        </span>
                                                                                        <span
                                                                                            style="color: #f9a141;">{{order.notes}}</span>
                                                                                    </div>
                                                                                    <div class="col-xs-12 col-sm-12 col-md-121 col-xl-12 col-lg-12"
                                                                                        ng-show="order.drinksMixers && order.drinksMixers.length">
                                                                                        <span
                                                                                            style="color: red;">Mixers</span>
                                                                                        <span> &nbsp;:&nbsp;
                                                                                        </span>
                                                                                        <span style="color: #f9a141;"
                                                                                            ng-repeat="mixers in order.drinksMixers">{{
                                                                                            mixers.name }}
                                                                                            {{$last ? '' : ',
                                                                                            '}}</span>
                                                                                    </div>
                                                                                    <div class="col-xs-12 col-sm-12 col-md-121 col-xl-12 col-lg-12"
                                                                                        ng-show="order.drinksExtras && order.drinksExtras.length">
                                                                                        <span
                                                                                            style="color: red;">Extras</span>
                                                                                        <span> &nbsp;:&nbsp;
                                                                                        </span>
                                                                                        <span style="color: #f9a141;"
                                                                                            ng-repeat="extras in order.drinksExtras">{{
                                                                                            extras.name }}
                                                                                            {{$last ? '' : ',
                                                                                            '}}</span>
                                                                                    </div>
                                                                                </div>

                                                                            </td>
                                                                            <td style="text-align: right;">
                                                                                $ {{order.totalPrice | number :
                                                                                2}}</td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12"
                                                            style="text-align: right;">
                                                            <div class="row">
                                                                <div
                                                                    class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                                                    <div class="row">
                                                                        <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 col-xl-9"
                                                                            style="text-align: right;">
                                                                            <b class="footer-txt">Order
                                                                                Total</b>
                                                                        </div>
                                                                        <div
                                                                            class="col-xs-3 col-sm-3 col-md-3 col-lg-3 col-xl-3">
                                                                            <b class="footer-txt">{{order_product.orderTotal
                                                                                | currency : ' $ ' : 2}}</b>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div
                                                                    class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                                                    <div class="row">
                                                                        <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 col-xl-9"
                                                                            style="text-align: right;">
                                                                            <b class="footer-txt">Tip</b>
                                                                        </div>
                                                                        <div
                                                                            class="col-xs-3 col-sm-3 col-md-3 col-lg-3 col-xl-3">
                                                                            <b class="footer-txt">{{order_product.tipAmt
                                                                                | currency : ' $ ' : 2}}</b>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div
                                                                    class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                                                    <div class="row">
                                                                        <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 col-xl-9"
                                                                            style="text-align: right;">
                                                                            <b class="footer-txt">Subtotal</b>
                                                                        </div>
                                                                        <div
                                                                            class="col-xs-3 col-sm-3 col-md-3 col-lg-3 col-xl-3">
                                                                            <b class="footer-txt">{{order_product.subTotal
                                                                                | currency : ' $ ' : 2}}</b>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div
                                                                    class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                                                    <div class="row">
                                                                        <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 col-xl-9"
                                                                            style="text-align: right;">
                                                                            <b class="footer-txt">Service
                                                                                Fee</b>
                                                                        </div>
                                                                        <div
                                                                            class="col-xs-3 col-sm-3 col-md-3 col-lg-3 col-xl-3">
                                                                            <b class="footer-txt">{{order_product.serviceFee
                                                                                | currency : ' $ ' : 2}}</b>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div
                                                                    class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                                                    <div class="row">
                                                                        <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 col-xl-9"
                                                                            style="text-align: right;">
                                                                            <b class="footer-txt">Total</b>
                                                                        </div>
                                                                        <div
                                                                            class="col-xs-3 col-sm-3 col-md-3 col-lg-3 col-xl-3">
                                                                            <b class="footer-txt">{{order_product.totalAmt
                                                                                | currency : ' $ ' : 2}}</b>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 col-xl-9"
                                                                    style="text-align: right;">
                                                                    <b class="footer-txt">Status</b>
                                                                </div>
                                                                <div
                                                                    class="col-xs-3 col-sm-3 col-md-3 col-lg-3 col-xl-3">
                                                                    <b class="footer-txt">
                                                                        <span
                                                                            ng-if="order_product.paymentStatus=='succeeded'"
                                                                            style="background-color: #4caf50;padding: 0px 2px;border-radius: 4px;">Paid</span>
                                                                        <span
                                                                            ng-if="order_product.paymentStatus=='Not Paid' || order_product.paymentStatus=='Pending'"
                                                                            style="background-color: #ec370a;padding: 0px 2px;border-radius: 4px;">Not
                                                                            Paid</span>
                                                                        <span
                                                                            ng-if="order_product.paymentStatus=='failed'"
                                                                            style="background-color: #ec370a;padding: 0px 2px;border-radius: 4px;">Failed</span>
                                                                    </b>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <div class="row">
                                        <div class="col-md-12" style="margin-top: 0.5rem;margin-bottom:1rem;">
                                            <button class="btn btn-success col-md-5"
                                                ng-if="order_product.status=='awaiting'"
                                                style="background-color: #4caf50 !important;border-radius: 3px !important;"
                                                ng-click="updateStatus(order_product.id,'accepted')"><i
                                                    class="fas fa-check"></i> &nbsp; Accept</button>
                                            <button class="btn btn-success col-md-5 pull-right"
                                                ng-if="order_product.status=='awaiting'"
                                                style="background-color: #ec370a !important;border-radius: 3px !important; "
                                                ng-click="getReasonforreject(order_product.id,'rejected')"><i
                                                    class="fas fa-times"></i> &nbsp; Reject</button>
                                            <button class="btn btn-success" ng-if="order_product.status=='accepted'"
                                                style="background-color: #f1c40f !important;border-radius: 3px !important;width: 100% !important;"
                                                ng-click="updateStatus(order_product.id,'preparation')">Start
                                                Preparation</button>
                                            <button class="btn btn-success" ng-if="order_product.status=='preparation'"
                                                style="background-color: #61c51b !important;border-radius: 3px !important;width: 100% !important;"
                                                ng-click="updateStatus(order_product.id,'readytoserve')">Ready
                                                To Serve</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal" tabindex="-1" id="getReasonsforReject" role="dialog">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header"
                                    style="background-color: #f9a141;    padding: 10px !important;
                            box-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12);">
                                    <h5 class="modal-title" style="color: #fff;">Reason</h5>
                                </div>
                                <div class="modal-body" style="padding: 20px 15px 0px 15px;">
                                    <div class="row">
                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                            <div class="form-group">
                                                <textarea class="form-control" id="drinks-order-r-reason"
                                                    placeholder="Enter Reason.." rows="3" id="comment"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer" style="text-align: right !important;">
                                    <button type="button" class="btn btn-primary" id="reject-Save-Btn"
                                        onclick="updateStatusToCtl(this)"
                                        style="border-radius: 4px;background-color:#4caf50 !important;">Save</button>
                                    <button type="button" class="btn btn-secondary"
                                        style="border-radius: 4px;background-color:#ec370a !important;"
                                        data-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    updateStatusToCtl = (e) => {
        let { id, status, type } = JSON.parse($(e).attr('data-update-status'));
        angular.element(document.getElementById('drinksorder')).scope().updateStatus(id, status, type);
    }
</script>
<style>
    .footer-txt {
        font-size: 1.1rem;
    }

    #foodOrderViewModal.left .modal-dialog,
    #foodOrderViewModal.right .modal-dialog {
        position: fixed;
        margin: auto;
        width: 620px;
        height: 100%;
        -webkit-transform: translate3d(0%, 0, 0);
        -ms-transform: translate3d(0%, 0, 0);
        -o-transform: translate3d(0%, 0, 0);
        transform: translate3d(0%, 0, 0);
    }

    #foodOrderViewModal.left .modal-content,
    #foodOrderViewModal.right .modal-content {
        height: 100%;
        overflow-y: auto;
    }

    #foodOrderViewModal.left .modal-body,
    #foodOrderViewModal.right .modal-body {
        padding: 15px 15px 15px 15px;
        overflow-x: hidden;
    }

    /*Left*/
    #foodOrderViewModal.left.fade .modal-dialog {
        right: -320px;
        -webkit-transition: opacity 0.3s linear, left 0.3s ease-out;
        -moz-transition: opacity 0.3s linear, left 0.3s ease-out;
        -o-transition: opacity 0.3s linear, left 0.3s ease-out;
        transition: opacity 0.3s linear, left 0.3s ease-out;
    }

    #foodOrderViewModal.left.fade.in .modal-dialog {
        right: 0;
    }

    #foodOrderViewModal.right.fade .modal-dialog {
        right: -320px;
        -webkit-transition: opacity 0.3s linear, right 0.3s ease-out;
        -moz-transition: opacity 0.3s linear, right 0.3s ease-out;
        -o-transition: opacity 0.3s linear, right 0.3s ease-out;
        transition: opacity 0.3s linear, right 0.3s ease-out;
    }

    #foodOrderViewModal.right.fade.in .modal-dialog {
        right: 0;
    }

    .loader {
        z-index: 99999999999999 !important;
    }
</style>