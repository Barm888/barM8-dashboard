var runInjector=null;angular.module('app',['lbServices','ngMaterial','ngMessages','ui.router',"chart.js","ngStorage","angularMoment"]).factory("hostUrl",function($location){return{id:$location.host()+':'+$location.port()}}).filter('split',function(){return function(input,splitChar,splitIndex){return input.split(splitChar)[splitIndex]}}).filter('fixed',function(){return function(input){return(parseFloat(input|0)).toFixed(2)}}).filter('salesChannelFilter',function(){return function(input){if(input&&input.appOnly)return'App Only (Barm8 Only)';else if(input&&input.appAndDoor)return'App and At the door';else if(input&&input.doorOnly)return'At the door only'}}).service('loader',function(){this.visible=function(){$(".loader").css({display:'block'});return!0}
this.hidden=function(a){$(".loader").css({display:'none'});return!0}}).factory("socket",function(){return io.connect()}).filter('returnPolicyFilter',function(){return function(input){if(input&&input._1Day)return'1 day';else if(input&&input._7Days)return'7 days';else if(input&&input._30Days)return'30 days';else if(input&&input._noRefund)return'No refunds'}}).filter('mealscategoryCapital',function(){return function(input){if(input&&input=='allday'){return'All Day'}else if(input&&input=='dinner'){return'Dinner'}else if(input&&input=='lunch'){return'Lunch'}else if(input&&input=='breakfast'){return'Breakfast'}}}).filter('happeningsDates',function(){return function(input){let data='';for(let d of input)data+=`<div class="row"><div class"col-md-12"><b>${d.date}</b> from <b>${d.startTime}</b> to <b>${d.endTime}</b></div></div>`;return data}}).filter('categoriesShow',function(){return function(input){let data='';if(input&&input.breakfast){data+=`<div class="row"><div class="col-md-12"><div class="md-switch-container checked" onClick="$(this).toggleClass('checked');menuHeaderCategories('breakfast', this,'${input.id}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label"><b>Breakfast</b></div></div></div></div>`}else{data+=`<div class="row"><div class="col-md-12"><div class="md-switch-container" onClick="$(this).toggleClass('checked');menuHeaderCategories('breakfast', this,'${input.id}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label"><b>Breakfast</b></div></div></div></div>`}
if(input&&input.brunch){data+=`<div class="row"><div class="col-md-12"><div class="md-switch-container checked" onClick="$(this).toggleClass('checked');menuHeaderCategories('brunch', this,'${input.id}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label"><b>Brunch</b></div></div></div></div>`}else{data+=`<div class="row"><div class="col-md-12"><div class="md-switch-container" onClick="$(this).toggleClass('checked');menuHeaderCategories('brunch', this,'${input.id}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label"><b>Brunch</b></div></div></div></div>`}
if(input&&input.lunch){data+=`<div class="row"><div class="col-md-12"><div class="md-switch-container checked" onClick="$(this).toggleClass('checked');menuHeaderCategories('lunch', this,'${input.id}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label"><b>Lunch</b></div></div></div></div>`}else{data+=`<div class="row"><div class="col-md-12"><div class="md-switch-container" onClick="$(this).toggleClass('checked');menuHeaderCategories('lunch', this,'${input.id}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label"><b>Lunch</b></div></div></div></div>`}
if(input&&input.dinner){data+=`<div class="row"><div class="col-md-12"><div class="md-switch-container checked" onClick="$(this).toggleClass('checked');menuHeaderCategories('dinner', this,'${input.id}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label"><b>Dinner</b></div></div></div></div>`}else{data+=`<div class="row"><div class="col-md-12"><div class="md-switch-container" onClick="$(this).toggleClass('checked');menuHeaderCategories('dinner', this,'${input.id}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label"><b>Dinner</b></div></div></div></div>`}
if(input&&input.allday){data+=`<div class="row"><div class="col-md-12"><div class="md-switch-container checked" onClick="$(this).toggleClass('checked');menuHeaderCategories('allday', this,'${input.id}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label"><b>All Day</b></div></div></div></div>`}else{data+=`<div class="row"><div class="col-md-12"><div class="md-switch-container" onClick="$(this).toggleClass('checked');menuHeaderCategories('allday', this,'${input.id}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label"><b>All Day</b></div></div></div></div>`}
data+=`<div class="row"><div class="col-md-12" style="text-align: center;"><button style="padding: 0px 6px!important;"  onclick="angular.element(document.getElementById('menuManager')).scope().updateMenuHeaderRefresh()" class="btn btn-primary">Update</button></div></div>`;data+=`<script>
                     menuHeaderCategories = (category , e , id)=>{
                             angular.element(document.getElementById('menuManager')).scope().MealsCategoriesUpdate(category, e, id);
             } </script>`;return data}}).filter('mealsShow',function(){return function(input,category){let data="";if(category.parent.monday.value){if(input&&input.monday){data+=`<div class="row" style="padding: 2px 0px !important;"><div class="col-md-12"><div class="md-switch-container checked" onClick="$(this).toggleClass('checked');menuHeaderMealsDaysClk('monday', this,'${input.id}','${input.mealsDashLineId}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label" style="color: rgba(0,0,0,0.87) !important;"><b>Monday</b></div></div></div></div>`}else{data+=`<div class="row" style="padding: 2px 0px !important;"><div class="col-md-12"><div class="md-switch-container" onClick="$(this).toggleClass('checked');menuHeaderMealsDaysClk('monday', this,'${input.id}','${input.mealsDashLineId}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label" style="color: rgba(0,0,0,0.87) !important;"><b>Monday</b></div></div></div></div>`}}
if(category.parent.tuesday.value){if(input&&input.tuesday){data+=`<div class="row" style="padding: 2px 0px !important;"><div class="col-md-12"><div class="md-switch-container checked" onClick="$(this).toggleClass('checked');menuHeaderMealsDaysClk('tuesday', this,'${input.id}','${input.mealsDashLineId}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label" style="color: rgba(0,0,0,0.87) !important;"><b>Tuesday</b></div></div></div></div>`}else{data+=`<div class="row" style="padding: 2px 0px !important;"><div class="col-md-12"><div class="md-switch-container" onClick="$(this).toggleClass('checked');menuHeaderMealsDaysClk('tuesday', this,'${input.id}','${input.mealsDashLineId}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label" style="color: rgba(0,0,0,0.87) !important;"><b>Tuesday</b></div></div></div></div>`}}
if(category.parent.wednesday.value){if(input&&input.wednesday){data+=`<div class="row" style="padding: 2px 0px !important;"><div class="col-md-12"><div class="md-switch-container checked" onClick="$(this).toggleClass('checked');menuHeaderMealsDaysClk('wednesday', this,'${input.id}','${input.mealsDashLineId}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label" style="color: rgba(0,0,0,0.87) !important;"><b>Wednesday</b></div></div></div></div>`}else{data+=`<div class="row" style="padding: 2px 0px !important;"><div class="col-md-12"><div class="md-switch-container" onClick="$(this).toggleClass('checked');menuHeaderMealsDaysClk('wednesday', this,'${input.id}','${input.mealsDashLineId}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label" style="color: rgba(0,0,0,0.87) !important;"><b>Wednesday</b></div></div></div></div>`}}
if(category.parent.thursday.value){if(input&&input.thursday){data+=`<div class="row" style="padding: 2px 0px !important;"><div class="col-md-12"><div class="md-switch-container checked" onClick="$(this).toggleClass('checked');menuHeaderMealsDaysClk('thursday', this,'${input.id}','${input.mealsDashLineId}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label" style="color: rgba(0,0,0,0.87) !important;"><b>Thursday</b></div></div></div></div>`}else{data+=`<div class="row" style="padding: 2px 0px !important;"><div class="col-md-12"><div class="md-switch-container" onClick="$(this).toggleClass('checked');menuHeaderMealsDaysClk('thursday', this,'${input.id}','${input.mealsDashLineId}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label" style="color: rgba(0,0,0,0.87) !important;"><b>Thursday</b></div></div></div></div>`}}
if(category.parent.friday.value){if(input&&input.friday){data+=`<div class="row" style="padding: 2px 0px !important;"><div class="col-md-12"><div class="md-switch-container checked" onClick="$(this).toggleClass('checked');menuHeaderMealsDaysClk('friday', this,'${input.id}','${input.mealsDashLineId}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label" style="color: rgba(0,0,0,0.87) !important;"><b>Friday</b></div></div></div></div>`}else{data+=`<div class="row" style="padding: 2px 0px !important;"><div class="col-md-12"><div class="md-switch-container" onClick="$(this).toggleClass('checked');menuHeaderMealsDaysClk('friday', this,'${input.id}','${input.mealsDashLineId}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label" style="color: rgba(0,0,0,0.87) !important;"><b>Friday</b></div></div></div></div>`}}
if(category.parent.saturday.value){if(input&&input.saturday){data+=`<div class="row" style="padding: 2px 0px !important;"><div class="col-md-12"><div class="md-switch-container checked" onClick="$(this).toggleClass('checked');menuHeaderMealsDaysClk('saturday', this,'${input.id}','${input.mealsDashLineId}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label" style="color: rgba(0,0,0,0.87) !important;"><b>Saturday</b></div></div></div></div>`}else{data+=`<div class="row" style="padding: 2px 0px !important;"><div class="col-md-12"><div class="md-switch-container" onClick="$(this).toggleClass('checked');menuHeaderMealsDaysClk('saturday', this,'${input.id}','${input.mealsDashLineId}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label" style="color: rgba(0,0,0,0.87) !important;"><b>Saturday</b></div></div></div></div>`}}
if(category.parent.sunday.value){if(input&&input.sunday){data+=`<div class="row" style="padding: 2px 0px !important;"><div class="col-md-12"><div class="md-switch-container checked" onClick="$(this).toggleClass('checked');menuHeaderMealsDaysClk('sunday',this,'${input.id}','${input.mealsDashLineId}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label" style="color: rgba(0,0,0,0.87) !important;"><b>Sunday</b></div></div></div></div>`}else{data+=`<div class="row" style="padding: 2px 0px !important;"><div class="col-md-12"><div class="md-switch-container" onClick="$(this).toggleClass('checked');menuHeaderMealsDaysClk('sunday',this,'${input.id}','${input.mealsDashLineId}');"> <div class="md-switch-track"></div> <div class="md-switch-handle"></div>  <div class="md-switch-label" style="color: rgba(0,0,0,0.87) !important;"><b>Sunday</b></div></div></div></div>`}}
data+=`<div class="row"><div class="col-md-12" style="text-align: center;"><button style="padding: 0px 6px!important;background-color:#4caf50 !important;" onclick="angular.element(document.getElementById('menuManager')).scope().updateMenuHeaderRefresh()" class="btn btn-primary">Update</button></div></div>`;if(category.name=='mealsHeader'){data+=`<script>
       function menuHeaderMealsDaysClk(day, arg, id) {
        angular.element(document.getElementById('menuManager')).scope().mealsMenuHeaderDaysUpdate(id , day , $(arg).hasClass('checked'));
      };</script>`}
if(category.name=='mealsCategory'){data+=`<script>
       function menuHeaderMealsDaysClk(day, arg, id) {
        angular.element(document.getElementById('menuManager')).scope().mealsCategoryDaysUpdate(id , day , $(arg).hasClass('checked'));
      };</script>`}
if(category.name=='mealsItem'){data+=`<script>
       function menuHeaderMealsDaysClk(day, arg, id , mealsDashLineId) {
        angular.element(document.getElementById('menuManager')).scope().mealsItemDaysUpdate(id , day , $(arg).hasClass('checked'), mealsDashLineId);
      };</script>`}
return data}}).filter('_24to12',function(){return function(input,splitChar,splitIndex){var timeString=input.split(splitChar)[splitIndex];var H=+timeString.substr(0,2);var h=(H%12)||12;var ampm=H<12?" AM":" PM";timeString=h+timeString.substr(2,3)+ampm;return timeString}}).factory("States",function(){return["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]}).run(function($state,$rootScope,$injector){let stateName=location.href.split('#%2F')[1];if(stateName==undefined||stateName==''||stateName==null)stateName="home";if(stateName=='profile-update')stateName='profile';if(stateName=='businessmanager')stateName='dashboard';if(stateName=='booking')stateName="event-booking";if(stateName=='forgot_password')stateName='forgotpassword';if(stateName=='activation')stateName="activationLandline";if(stateName=='scan-report')stateName="id-scan-report";if(stateName=='vip-list')stateName="id-scan-vip-list";if(stateName=='ban-list')stateName="id-scan-ban-list";if(stateName=='scans')stateName="scan-ids-details";if(stateName=='partners-login'||location.pathname=='/partners-login')$rootScope.login=!0;console.log($rootScope.login);if(localStorage.getItem("userSession")!=null){try{var userDetails=localStorage.getItem("userSession");$rootScope.currentUser=JSON.parse(userDetails);if(stateName!='home')
$state.go(stateName);else if(stateName=='home')
$state.go("dashboard");else $state.go("page-not-found")}catch(e){console.log("Error UserSession get in run service"+e);$state.go("home")}}
else{if(!stateName)
$state.go("home");else if(stateName=='home')
$state.go(stateName);else if(stateName=='business-register')
$state.go(stateName);else if(stateName=='forgotpassword')
$state.go("forgotpassword");else $state.go("page-not-found")}}).directive('chosen',function(){var linker=function(scope,element,attrs){var list=attrs.chosen;scope.$watch(list,function(){element.trigger('chosen:updated')});scope.$watch(attrs.ngModel,function(){element.trigger('chosen:updated')});element.chosen({width:'100%'})};return{restrict:'A',link:linker}}).directive('date1',function(dateFilter){return{require:'ngModel',link:function(scope,elm,attrs,ctrl){var dateFormat=attrs.date||'yyyy-MM-dd';ctrl.$formatters.unshift(function(modelValue){return dateFilter(modelValue,dateFormat)})}}}).filter('underscoreless',function(){return function(input){return input.replace(/_/g,' ')}}).filter('removeSpaces',[function(){return function(string){if(!angular.isString(string)){return string}
return string.replace(/[\s]/g,'')}}]).filter('capitalize',function(){return function(input){return(!!input)?input.charAt(0).toUpperCase()+input.substr(1).toLowerCase():''}}).config(['$stateProvider','$urlRouterProvider','$httpProvider','$locationProvider',function($stateProvider,$urlRouterProvider,$httpProvider,$locationProvider){$stateProvider.state('resetpassword',{url:'/resetpassword?token=',templateUrl:'views/reset_password.html',controller:'resetpassword',params:{token:null}}).state('reservation-invite',{url:'/reservation-invite',templateUrl:'views/redirectStore.html',}).state('page-not-found',{url:'page-not-found',template:'<a ui-href="home" href="/home"><img  class="img-responsive" style="margin: auto;cursor:pointer;" ng-src="/assets/img/404-error-page-templates.jpg"></a>'}).state('customerforgotpassword',{url:'/customerforgotpassword?id=',templateUrl:'views/customerFP.html',controller:'customerForgotPassword'}).state('sports',{url:'/sports',templateUrl:'views/sports/manage-sports.html',controller:'ManageSportsCtl'}).state('create-sports',{url:'/create-sports',templateUrl:'views/sports/create-sports.html',controller:'CreateSportsCtl'}).state('view-sports',{url:'/view-sports',templateUrl:'views/sports/view-sports.html',controller:'ViewSportsCtl',params:{id:null,ownerId:null}}).state('edit-sports',{url:'/edit-sports',templateUrl:'views/sports/edit-sports.html',controller:'EditSportsCtl',params:{id:null,ownerId:null}}).state('whats-on',{url:'/whats-on',templateUrl:'views/whatson/whats-manage.html',controller:'whatsonCtl'}).state('create-happenings',{url:'/create-happenings',templateUrl:'views/happenings/create-happenings.html',controller:'happeningsCtl'}).state('happenings',{url:'/happenings',templateUrl:'views/happenings/manage-happenings.html',controller:'happeningsManageCtl',params:{ownerId:null}}).state('edit-happenings',{url:'/edit-happenings',templateUrl:'views/happenings/edit-happenings.html',controller:'happeningsEditCtl',params:{id:null,ownerId:null}}).state('view-happenings',{url:'/view-happenings',templateUrl:'views/happenings/view-happenings.html',controller:'happeningsViewCtl',params:{id:null,ownerId:null}}).state('manage-events',{url:'/manage-events',templateUrl:'views/events/manage-event.html',controller:'manageEventCtl'}).state('menu-hours',{url:'/menu-hours',templateUrl:'views/menus/menu-hours.html',controller:'menuHoursCtl'}).state('menu-manager',{url:'/menu-manager',templateUrl:'views/menus/menu-manager.html',controller:'menuHoursCtl'}).state('create-events',{url:'/create-events',templateUrl:'views/events/create-event.html',controller:'createEventCtl'}).state('view-events',{url:'/view-events',templateUrl:'views/events/view-event.html',controller:'viewEventCtl'}).state('drinks-manager',{url:'/drinks-manager',templateUrl:'views/drinks/drinks-manager.html',controller:'drinksManagerctl'}).state('drinks-order',{url:'/drinks-order',templateUrl:'views/drinksorder/drinks-order.html',controller:'drinksOrderCtl'}).state('drinks-menu',{url:'/drinks-menu',templateUrl:'views/drinks/create-drinks.html',controller:'drinksctl'}).state('reservation',{url:'/reservation',templateUrl:'views/menus/reservation.html',controller:'reservationCtl'}).state('edit-events',{url:'/edit-events',templateUrl:'views/events/edit-event.html',controller:'editEventCtl'}).state('contact-us',{url:'/contact-us',templateUrl:'views/question.html',controller:'contactUsQuestion'}).state('orders',{url:'/orders',templateUrl:'views/orders.html',controller:'OrdersCtl'}).state('event-booking',{url:'/booking',templateUrl:'views/eventBooking.html',controller:'eventBookingCtl'}).state('order-view',{url:'/order-view/:id',templateUrl:'views/order-view.html',controller:'orderViewCtl'}).state('id-scan-report',{url:'/scan-report',templateUrl:'views/id-scan-reports.html',controller:'ScanReportCtl'}).state('id-scan-vip-list',{url:'/vip-list',templateUrl:'views/scan-vip-list.html',controller:'ScanVIPListCtl'}).state('id-scan-ban-list',{url:'/ban-list',templateUrl:'views/scan-ban-list.html',controller:'ScanBanListCtl'}).state('activationLandline',{url:'/activation',templateUrl:'views/activationLandline.html',controller:'ActivationCtl'}).state('forgotpassword',{url:'/forgot_password',templateUrl:'views/forgotpwd.html',controller:'forgotpassword'}).state('customer-reset',{url:'customer-reset',templateUrl:'views/customerreset.html',controller:'forgotpassword'}).state('business-register',{url:'/business-register',templateUrl:'views/barm8_register_login.html',controller:'new_business_create'}).state('partners-login',{url:'/partners-login',templateUrl:'views/barm8_register_login.html',controller:'new_business_create'}).state('profile',{url:'/profile-update',templateUrl:'views/eprofile.html',controller:'eprofile'}).state('activationprofile',{url:'/profile-update',templateUrl:'views/activateprofile.html',controller:'activateProfileCtl'}).state('loginNew',{url:'/login',templateUrl:'views/barm8_register_login.html',controller:'new_business_create'}).state('home',{url:'',templateUrl:'views/home.html',controller:'barmateWebController'}).state('register',{url:'/register',templateUrl:'views/register.html',controller:'registerController'}).state('scan-ids-details',{url:'/scans',templateUrl:'views/scan-details.html',controller:'scanIdsController'}).state('patron-analytics',{url:'/patron-analytics',templateUrl:'views/analytics/patron-analytics.html',controller:'patronAnalyticsCtl'}).state('venue-analytics',{url:'/venue-analytics',templateUrl:'views/analytics/venue-analytics.html',controller:'venueAnalyticsCtl'}).state('create-analytics',{url:'/create-analytics',templateUrl:'views/create-analytics.html',controller:'createAnalyticsCtl'}).state('dashboard',{url:'/businessmanager',templateUrl:'views/businessManager.html',controller:'businessManager'}).state('customer',{url:'/customer',templateUrl:'views/customer.html',controller:'CustomerController'}).state('business',{url:'/business',templateUrl:'views/business.html',controller:'BusinessController'}).state('view-business',{url:'/view-business/:id',templateUrl:'views/eprofile.html',controller:'eprofile'}).state('add-business',{url:'/add-business',templateUrl:'views/add-business.html',controller:'BusinessController'}).state('login',{url:'/login',templateUrl:'views/login.html',controller:'AuthLoginController'}).state('logout',{url:'',controller:'AuthLogoutController'}).state('sign-up',{url:'/sign-up',templateUrl:'views/sign-up-form.html',controller:'SignUpController',}).state('sign-up-success',{url:'/sign-up/success',templateUrl:'views/sign-up-success.html'});$locationProvider.html5Mode(!0)}])