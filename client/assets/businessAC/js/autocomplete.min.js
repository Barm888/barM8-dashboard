function autocomplete(inp,call){var currentFocus;inp.addEventListener("input",function(e){if($("#businessErr").text()!=""){$("#businessErr").text('')}
if($("#autocompleteBusiness").data('id')!=null&&$("#autocompleteBusiness").data('id')!=undefined&&$("#autocompleteBusiness").data('id')!=""){$("#autocompleteBusiness").data('id',null)}
var a,b,i,val=this.value;closeAllLists();if(!val){return!1}
currentFocus=-1;a=document.createElement("DIV");a.setAttribute("id",this.id+"autocomplete-list");a.setAttribute("class","autocomplete-items");this.parentNode.appendChild(a);var arg=[];if(call=='analytics'){if($("#businessSubmit").hasClass('businessReset')){$("#businessSubmit").html('<i class="fa fa-check" aria-hidden="true"></i>&nbsp;&nbsp;Submit');$("#businessSubmit").removeClass('businessReset').addClass('businessSubmit')}
arg=angular.element('#analyticsChart').scope().getBusinessName()}
else if(call=='businessManager'){if($("#businessSubmit").hasClass('businessReset')){$("#businessSubmit").html('<i class="fa fa-check" aria-hidden="true"></i>&nbsp;&nbsp;Submit');$("#businessSubmit").removeClass('businessReset').addClass('businessSubmit')}
arg=angular.element('#businessManager').scope().autoCompleteBusinessName()}
else if(call=='profileUpdate'){if($(".submitBtnProfile").hasClass('businessReset')){$(".submitBtnProfile").html('<i class="fa fa-check" aria-hidden="true"></i>&nbsp;&nbsp;Submit');$(".submitBtnProfile").removeClass('businessReset').addClass('businessSubmit')}
arg=angular.element('#editProfile').scope().getBusinessName()}
for(i=0;i<arg.length;i++){if(arg[i].businessName.substr(0,val.length).toUpperCase()==val.toUpperCase()){b=document.createElement("DIV");b.innerHTML="<strong>"+arg[i].businessName.substr(0,val.length)+"</strong>";b.innerHTML+=arg[i].businessName.substr(val.length);b.innerHTML+="<input type='hidden' value='"+arg[i].businessName+"' data-id='"+arg[i].id+"'>";b.addEventListener("click",function(e){inp.value=this.getElementsByTagName("input")[0].value;closeAllLists()});if($(".autocomplete-items").find('div').length){$(".autocomplete-items").css({'height':'200px','overflow':'auto'})}
a.appendChild(b)}}});inp.addEventListener("keydown",function(e){var x=document.getElementById(this.id+"autocomplete-list");if(x)x=x.getElementsByTagName("div");if(e.keyCode==40){currentFocus++;addActive(x)}else if(e.keyCode==38){currentFocus--;addActive(x)}else if(e.keyCode==13){e.preventDefault();if(currentFocus>-1){if(x)x[currentFocus].click()}}});function addActive(x){if(!x)return!1;removeActive(x);if(currentFocus>=x.length)currentFocus=0;if(currentFocus<0)currentFocus=(x.length-1);x[currentFocus].classList.add("autocomplete-active")}
function removeActive(x){for(var i=0;i<x.length;i++){x[i].classList.remove("autocomplete-active")}}
function closeAllLists(elmnt){var x=document.getElementsByClassName("autocomplete-items");if($(elmnt).find('input').data('id')!=undefined&&$(elmnt).find('input').data('id')!=null){$("#autocompleteBusiness").data('id',$(elmnt).find('input').data('id'))}
for(var i=0;i<x.length;i++){if(elmnt!=x[i]&&elmnt!=inp){x[i].parentNode.removeChild(x[i])}}}
document.addEventListener("click",function(e){closeAllLists(e.target)})}